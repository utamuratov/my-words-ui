"use strict";(self.webpackChunkmy_words_ui=self.webpackChunkmy_words_ui||[]).push([[941],{2941:(A,z,r)=>{r.r(z),r.d(z,{GroupComponent:()=>Q});var n=r(5879),c=r(6814),d=r(2920),C=r(4451),g=r(2840),f=r(551),m=r(3106),l=r(95),u=r(3599),h=r(824),v=r(4032),x=r(5390),_=r(9035),G=r(1567),T=r(6624);let M=(()=>{var o;class s{transform(t){return t?t.reduce((e,p)=>e+p.wordsCount,0):0}}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275pipe=n.Yjl({name:"countWords",type:o,pure:!0,standalone:!0}),s})();var b=r(855);const O=function(o){return["../my-words",o]};function Z(o,s){if(1&o){const i=n.EpF();n.TgZ(0,"div",11)(1,"div",4)(2,"span"),n._uU(3),n.qZA()(),n.TgZ(4,"div",12)(5,"button",13),n.NdJ("click",function(){const p=n.CHM(i).$implicit,a=n.oxw();return n.KtG(a.edit(p))}),n._UZ(6,"span",14),n.qZA(),n.TgZ(7,"button",15),n.NdJ("nzOnConfirm",function(){const p=n.CHM(i).$implicit,a=n.oxw();return n.KtG(a.delete(p.id))}),n._UZ(8,"span",16),n.qZA()()()}if(2&o){const i=s.$implicit;n.Q6J("nzXs",24)("nzSm",24)("nzMd",12)("nzXXl",12),n.xp6(1),n.Q6J("routerLink",n.VKq(10,O,i.id))("nzTooltipTitle",i.name+" ga o'tish"),n.xp6(2),n.AsE(" ",i.name," (",i.wordsCount,") "),n.xp6(4),n.Q6J("nzOkText","Ha")("nzCancelText","Yo'q")}}function y(o,s){1&o&&(n.ynx(0),n._uU(1,"Please input group name!"),n.BQk())}function J(o,s){1&o&&n.YNc(0,y,2,0,"ng-container",22),2&o&&n.Q6J("ngIf",s.$implicit.hasError("required"))}function X(o,s){if(1&o){const i=n.EpF();n.ynx(0),n.TgZ(1,"form",17),n.NdJ("ngSubmit",function(){n.CHM(i);const e=n.oxw();return n.KtG(e.submit())}),n.TgZ(2,"nz-form-item")(3,"nz-form-label",18),n._uU(4,"Group name"),n.qZA(),n.TgZ(5,"nz-form-control",19),n._UZ(6,"input",20),n.YNc(7,J,1,1,"ng-template",null,21,n.W1O),n.qZA()()(),n.BQk()}if(2&o){const i=n.MAs(8),t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.form),n.xp6(2),n.Q6J("nzSpan",24),n.xp6(2),n.Q6J("nzSpan",24)("nzErrorTip",i)}}const P=function(){return[16,16]},S=function(){return["../my-words"]};let Q=(()=>{var o;class s{getGroups(){this.group$=this.$group.groups()}constructor(t){this.cd=t,this.$group=(0,n.f3M)(v.l),this.fb=(0,n.f3M)(l.qu),this.visibleModal=!1,this.form=this.fb.nonNullable.group({name:["",l.kI.required]}),this.getGroups()}closeModal(){this.visibleModal=!1}showModal(){this.visibleModal=!0}edit(t){this.editingGroup=t,this.form.controls.name.setValue(t.name),this.showModal()}add(){this.showModal()}delete(t){this.$group.delete(t).subscribe(e=>{e.status&&(this.getGroups(),this.closeModal(),this.cd.markForCheck())})}submit(){if(this.form.invalid)return void(0,x.q)(this.form);const t=this.form.getRawValue();this.editingGroup?this.$group.edit(t,this.editingGroup.id).subscribe(e=>{e.status&&(this.closeModal(),this.editingGroup=void 0,this.form.reset(),this.getGroups())}):this.$group.add(t).subscribe(e=>{e.status&&(this.closeModal(),this.form.reset(),this.getGroups())})}}return(o=s).\u0275fac=function(t){return new(t||o)(n.Y36(n.sBO))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-group"]],standalone:!0,features:[n.jDz],decls:18,vars:27,consts:[["nz-icon","","nzType","home","nzTheme","outline"],[1,"inner-content"],["nz-row","",1,"overflow-auto",3,"nzGutter"],["nz-col","",1,"group-item",3,"nzXs","nzSm","nzMd","nzXXl"],["nzTooltipPlacement","top","nz-tooltip","",1,"group",3,"routerLink","nzTooltipTitle"],["class","position-relative group-item","nz-col","",3,"nzXs","nzSm","nzMd","nzXXl",4,"ngFor","ngForOf"],["nz-col","",3,"nzXs","nzSm","nzMd","nzXXl"],["nzTooltipTitle","Guruh qo'shish","nzTooltipPlacement","top","nz-tooltip","",1,"group","group__plus",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[3,"nzVisible","nzWidth","nzTitle","nzOkText","nzCancelText","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nz-col","",1,"position-relative","group-item",3,"nzXs","nzSm","nzMd","nzXXl"],[1,"position-absolute",2,"top","15px","right","15px"],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nzDanger","","nzType","link","nz-popconfirm","","nzPopconfirmTitle","Rostdan ham o'chirmoqchimisiz?","nzPopconfirmPlacement","bottom",3,"nzOkText","nzCancelText","nzOnConfirm"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","name","placeholder","Group name"],["userErrorTpl",""],[4,"ngIf"]],template:function(t,e){1&t&&(n.TgZ(0,"h3"),n._UZ(1,"span",0),n._uU(2," Mening guruhlarim"),n.qZA(),n.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"span"),n._uU(8),n.ALo(9,"countWords"),n.ALo(10,"async"),n.qZA()()(),n.YNc(11,Z,9,12,"div",5),n.ALo(12,"async"),n.TgZ(13,"div",6)(14,"div",7),n.NdJ("click",function(){return e.add()}),n._UZ(15,"span",8),n.qZA()()()(),n.TgZ(16,"nz-modal",9),n.NdJ("nzVisibleChange",function(a){return e.visibleModal=a})("nzOnCancel",function(){return e.closeModal()})("nzOnOk",function(){return e.submit()}),n.YNc(17,X,9,4,"ng-container",10),n.qZA()),2&t&&(n.xp6(4),n.Q6J("nzGutter",n.DdM(25,P)),n.xp6(1),n.Q6J("nzXs",24)("nzSm",24)("nzMd",12)("nzXXl",12),n.xp6(1),n.Q6J("routerLink",n.DdM(26,S))("nzTooltipTitle","Barchasiga o'tish"),n.xp6(2),n.AsE(" ","Barchasi"," (",n.lcZ(9,19,n.lcZ(10,21,e.group$)),") "),n.xp6(3),n.Q6J("ngForOf",n.lcZ(12,23,e.group$)),n.xp6(2),n.Q6J("nzXs",24)("nzSm",24)("nzMd",12)("nzXXl",12),n.xp6(3),n.Q6J("nzVisible",e.visibleModal)("nzWidth",300)("nzTitle",e.editingGroup?"Guruhni tahrirlash":"Guruh qo'shish")("nzOkText","Saqlash")("nzCancelText","Bekor qilish"))},dependencies:[c.ax,c.O5,c.Ov,G.rH,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,C.m,M,d.Jb,d.t3,d.SK,g.sL,g.ix,b.w,f.PV,f.Ls,m.Qp,m.du,m.Hf,u.U5,u.Lr,u.Nx,u.iK,u.Fd,h.o7,h.Zp,_._p,_.JW,T.cg,T.SY],styles:[".group-item[_ngcontent-%COMP%]:hover   .group[_ngcontent-%COMP%]{background-color:#3445df;border-color:#3445df;color:#fff}.group-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{color:#fff!important}.group[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #f0f0f0;padding:10px;height:100px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:#63636333 0 2px 8px;transition:.5s}.group__plus[_ngcontent-%COMP%]{box-shadow:none;border-style:dashed;border-width:2px;background:#f0f0f033}.group__plus[_ngcontent-%COMP%]:hover{border-color:#3445df}"],changeDetection:0}),s})()}}]);